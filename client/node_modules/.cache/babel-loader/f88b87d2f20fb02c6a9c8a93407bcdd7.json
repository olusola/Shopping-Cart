{"ast":null,"code":"import _classCallCheck from \"/Users/akinolo/xxx/apps/mcart/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/akinolo/xxx/apps/mcart/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/akinolo/xxx/apps/mcart/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/akinolo/xxx/apps/mcart/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/akinolo/xxx/apps/mcart/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/akinolo/xxx/apps/mcart/client/src/containers/AppContainer.jsx\";\nimport React, { Component } from 'react';\nimport { graphql } from 'react-apollo';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport '../style/App.css';\nimport { addToBasket, resetBasket } from '../redux/actions/master';\nimport NavBar from '../components/NavBar/NavBar';\nimport ProductList from '../components/ProductList/ProductList';\nimport ProductLists from '../Queries/ProductList';\n\nvar AppContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AppContainer, _Component);\n\n  function AppContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AppContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AppContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleBasket = function () {\n      var bag = JSON.stringify(_this.props.checkout.basket);\n      alert(\"Your basket:\\n \".concat(bag));\n    };\n\n    _this.handleCartItems = function (basket) {\n      var subTotal = Object.keys(basket).reduce(function (acc, cv) {\n        return acc + basket[cv].quantity;\n      }, 0);\n      return subTotal;\n    };\n\n    return _this;\n  }\n\n  _createClass(AppContainer, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          AllProducts = _this$props.AllProducts,\n          basket = _this$props.checkout.basket;\n      return React.createElement(\"div\", {\n        className: \"appContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        color: \"light\",\n        numOfBasketItems: this.handleCartItems(basket) || 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }), React.createElement(\"section\", {\n        className: \"my-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(ProductList, {\n        productList: AllProducts,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return AppContainer;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    checkout: state\n  };\n};\n\nvar masterqL = graphql(ProductLists, {\n  options: {\n    fetchPolicy: \"network only\"\n  },\n  props: function props(_props) {\n    return {\n      AllProducts: _props.data.listProductLists ? _props.data.listProductLists.items : []\n    };\n  }\n});\nvar masterCompose = compose(masterqL, connect(mapStateToProps, {\n  addToBasket: addToBasket,\n  resetBasket: resetBasket\n}))(AppContainer);\nexport default masterCompose;","map":{"version":3,"sources":["/Users/akinolo/xxx/apps/mcart/client/src/containers/AppContainer.jsx"],"names":["React","Component","graphql","connect","compose","addToBasket","resetBasket","NavBar","ProductList","ProductLists","AppContainer","handleBasket","bag","JSON","stringify","props","checkout","basket","alert","handleCartItems","subTotal","Object","keys","reduce","acc","cv","quantity","AllProducts","mapStateToProps","state","masterqL","options","fetchPolicy","data","listProductLists","items","masterCompose"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,cAAxB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,OAAO,kBAAP;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,yBAAzC;AACA,OAAOC,MAAP,MAAoB,6BAApB;AACA,OAAOC,WAAP,MAAwB,uCAAxB;AACA,OAAOC,YAAP,MAAyB,wBAAzB;;IAEMC,Y;;;;;;;;;;;;;;;;;;UAEJC,Y,GAAe,YAAM;AACnB,UAAMC,GAAG,GAAGC,IAAI,CAACC,SAAL,CAAe,MAAKC,KAAL,CAAWC,QAAX,CAAoBC,MAAnC,CAAZ;AACAC,MAAAA,KAAK,0BAAmBN,GAAnB,EAAL;AACD,K;;UAEDO,e,GAAkB,UAACF,MAAD,EAAY;AAC5B,UAAMG,QAAQ,GAAGC,MAAM,CAACC,IAAP,CAAYL,MAAZ,EAAoBM,MAApB,CAA4B,UAACC,GAAD,EAAMC,EAAN,EAAW;AACtD,eAAOD,GAAG,GAAIP,MAAM,CAACQ,EAAD,CAAN,CAAWC,QAAzB;AACD,OAFgB,EAEd,CAFc,CAAjB;AAGF,aAAON,QAAP;AACC,K;;;;;;;6BAEQ;AAAA,wBACuC,KAAKL,KAD5C;AAAA,UACCY,WADD,eACCA,WADD;AAAA,UAC0BV,MAD1B,eACcD,QADd,CAC0BC,MAD1B;AAGP,aACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,MAAD;AACE,QAAA,KAAK,EAAE,OADT;AAEE,QAAA,gBAAgB,EAAG,KAAKE,eAAL,CAAqBF,MAArB,KAAgC,CAFrD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,EAKA;AAAS,QAAA,SAAS,EAAC,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AACE,QAAA,WAAW,EAAKU,WADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CALA,CADF;AAaD;;;;EA9BwB1B,S;;AAiC3B,IAAM2B,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD;AAAA,SACtB;AACEb,IAAAA,QAAQ,EAAEa;AADZ,GADsB;AAAA,CAAxB;;AAMA,IAAMC,QAAQ,GAAG5B,OAAO,CAACO,YAAD,EAAe;AACrCsB,EAAAA,OAAO,EAAE;AACPC,IAAAA,WAAW,EAAE;AADN,GAD4B;AAIrCjB,EAAAA,KAAK,EAAE,eAAAA,MAAK;AAAA,WAAK;AACfY,MAAAA,WAAW,EAAEZ,MAAK,CAACkB,IAAN,CAAWC,gBAAX,GAA8BnB,MAAK,CAACkB,IAAN,CAAWC,gBAAX,CAA4BC,KAA1D,GAAkE;AADhE,KAAL;AAAA;AAJyB,CAAf,CAAxB;AASA,IAAMC,aAAa,GAAGhC,OAAO,CAAC0B,QAAD,EAAW3B,OAAO,CAACyB,eAAD,EAAkB;AAACvB,EAAAA,WAAW,EAAXA,WAAD;AAAcC,EAAAA,WAAW,EAAXA;AAAd,CAAlB,CAAlB,CAAP,CAAwEI,YAAxE,CAAtB;AAEA,eAAe0B,aAAf","sourcesContent":["import React, { Component } from 'react'\nimport { graphql } from 'react-apollo'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport '../style/App.css'\nimport { addToBasket, resetBasket } from '../redux/actions/master'\nimport NavBar from  '../components/NavBar/NavBar'\nimport ProductList from '../components/ProductList/ProductList'\nimport ProductLists from '../Queries/ProductList'\n\nclass AppContainer extends Component {\n\n  handleBasket = () => {\n    const bag = JSON.stringify(this.props.checkout.basket)\n    alert(`Your basket:\\n ${bag}`)\n  }\n\n  handleCartItems = (basket) => {\n    const subTotal = Object.keys(basket).reduce( (acc, cv)=>{\n      return acc +  basket[cv].quantity\n    }, 0)\n  return subTotal\n  }\n\n  render() {\n    const { AllProducts, checkout: { basket } } = this.props\n\n    return (\n      <div className=\"appContainer\">\n      <NavBar\n        color= \"light\"\n        numOfBasketItems={ this.handleCartItems(basket) || 0}\n      />\n      <section className=\"my-4\">\n        <ProductList\n          productList = { AllProducts }\n        />\n      </section>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => (\n  {\n    checkout: state\n  }\n)\n\nconst masterqL = graphql(ProductLists, {\n  options: {\n    fetchPolicy: \"network only\"\n  },\n  props: props => ({\n    AllProducts: props.data.listProductLists ? props.data.listProductLists.items : []\n  })\n})\n\nconst masterCompose = compose(masterqL, connect(mapStateToProps, {addToBasket, resetBasket}))(AppContainer)\n\nexport default masterCompose\n\n"]},"metadata":{},"sourceType":"module"}